title: Website notes
description: This is my first entry
date: 2023-12-15
permissions: PUBLIC
tags:
  - how-to
  - webdev
post_image: https://lh3.googleusercontent.com/pw/AMWts8AhcLCaaBQUVAJo-k3zM4S3NiulNspH6lIocBxF_5KIEwWKx8ETiH5_tbHRMz-ZH994WASzFvW8twUVTRhNoOhPybH8FERSJuTcAY4bRttyHdAHPNJefHTtFe0CBYRAmLdR-vsh5CfBjyOrwZd74m_aBw=w3692-h2078-no
images:
  fireplace:
    google_url: https://lh3.googleusercontent.com/pw/AMWts8AhcLCaaBQUVAJo-k3zM4S3NiulNspH6lIocBxF_5KIEwWKx8ETiH5_tbHRMz-ZH994WASzFvW8twUVTRhNoOhPybH8FERSJuTcAY4bRttyHdAHPNJefHTtFe0CBYRAmLdR-vsh5CfBjyOrwZd74m_aBw=w3692-h2078-no
    title: cozy fire
    description: This is a test
  fireplace1:
    google_url: https://lh3.googleusercontent.com/pw/AMWts8Bx2iWHOIhdECCtwMRD86tBZOrm0MAhnVqdX_btgQ7cB6ciu-x1YBqg-5VCSUsMa5AVhz_CoNBwcE1WPZ6H41GxQnowFJp8dZ1acQumpV2H5Rcz5imtqOdnUPKTQ1G49k4yKuFuL3arokAUJ-d_mEEmoA=w1202-h2136-no
    title: cozy fire
    description: This is a test
  fireplace2:
    google_url: https://lh3.googleusercontent.com/pw/AMWts8AhcLCaaBQUVAJo-k3zM4S3NiulNspH6lIocBxF_5KIEwWKx8ETiH5_tbHRMz-ZH994WASzFvW8twUVTRhNoOhPybH8FERSJuTcAY4bRttyHdAHPNJefHTtFe0CBYRAmLdR-vsh5CfBjyOrwZd74m_aBw=w3692-h2078-no
    title: cozy fire
    description: This is a test
  fireplace3:
    google_url: https://lh3.googleusercontent.com/pw/AMWts8AhcLCaaBQUVAJo-k3zM4S3NiulNspH6lIocBxF_5KIEwWKx8ETiH5_tbHRMz-ZH994WASzFvW8twUVTRhNoOhPybH8FERSJuTcAY4bRttyHdAHPNJefHTtFe0CBYRAmLdR-vsh5CfBjyOrwZd74m_aBw=w3692-h2078-no
    title: cozy fire
    description: This is a test
  fireplace4:
    google_url: https://lh3.googleusercontent.com/pw/AMWts8AhcLCaaBQUVAJo-k3zM4S3NiulNspH6lIocBxF_5KIEwWKx8ETiH5_tbHRMz-ZH994WASzFvW8twUVTRhNoOhPybH8FERSJuTcAY4bRttyHdAHPNJefHTtFe0CBYRAmLdR-vsh5CfBjyOrwZd74m_aBw=w3692-h2078-no
    title: cozy fire
    description: This is a test
  fireplace5:
    google_url: https://lh3.googleusercontent.com/pw/AMWts8AhcLCaaBQUVAJo-k3zM4S3NiulNspH6lIocBxF_5KIEwWKx8ETiH5_tbHRMz-ZH994WASzFvW8twUVTRhNoOhPybH8FERSJuTcAY4bRttyHdAHPNJefHTtFe0CBYRAmLdR-vsh5CfBjyOrwZd74m_aBw=w3692-h2078-no
    title: cozy fire
    description: This is a test

recipe:
    ingredients:
      - - flour, all purpose
        - 500g
      - - baking soda
        - 1 teaspoon
      - - baking powder
        - 1/2 teaspon
      - - eggs, large
        - 4
      - - Butter (salted)
        - 20 tablespoons (300g)
      - - Dark brown sugar
        - 340g
      - - Granulated sugar
        - 225g
      - - Vanilla
        - 4 teaspoons
      - - Walnuts
        - 310g
      - - Semisweet Chocolate chips
        - 310g
    preperation:
      - Preheat Oven to 375F
      - In separate bowl, add dry ingredients, flour, baking soda, baking powder
      - In mixing bowl, add sugar and vanilla
      - Butter- Cut 4 tablespoons into 1cm cubes and set aside
      - Butter- Brown 8 tablespoons in a small/medium pan over medium heat
      - Butter- melt remaining 8 tablespoons into brown butter pan after removing from heat.
      - add browned + melted butter into mixing bowl.
      - Add eggs, one egg at a time making sure to break the yolk. Whisk for 30-60s, let rest for 3min and repeat 3 times. 
      - Add flour mixture to mixing bowl and slowly add cubbed butter while mixing. Mix until you have a creamy dough consistency (1-3min)
      - Add chocolate chips and walnuts, mix until evening distributed (~30s)
      - On a baking tray lined with parchment paper, add ~1/4 cup (1 ice cream scoup) of cookie dough w/ 1-2in of spacing around each. On a baking tray lined with parchment paper, add ~1/4 cup (1 ice cream scoup) of cookie dough w/ 1-2in of spacing around each. On a baking tray lined with parchment paper, add ~1/4 cup (1 ice cream scoup) of cookie dough w/ 1-2in of spacing around each.
      - Bake for ~10min or until edges have just started to set. Remove from oven and let cookies rest on baking tray for ~5min before removing from tray.


    images:
      image1:
        google_url: https://lh3.googleusercontent.com/pw/ABLVV853h6OjHHY1fkWhYu_b4pZGcFhJgeIV5zzTVT5_pXXhJahlf-IcpIUVbh7QLo7iFEUdzSDmBLuUDtemsrCcAkqmpumHUjdrMRvBM2rYh4hOCV-NmSAsC75RX97Xgzx9oDQa8KjdXEitu3_K0Uljci2oFw=w2024-h1138-s-no-gm?authuser=0
        title: Cookie dough
        description: ''
      image2:
        google_url: https://lh3.googleusercontent.com/pw/ABLVV866sCWmpfUku6HTmWwttdQntRQILPsznAYL5u9S1CWmBdp1pzW9u47IEXTzi1uLTjfNQkx7eEflZnPpVFIbiaoDto2egMHEkZtrW_XJ2tLYF4W94OO8jyEk1_bR2xPBXyo1-4oGWdPlvJnSwVBeDGw6og=w2024-h1138-s-no-gm?authuser=0
        title: Cookie batch
        description: ''
      image3:
        google_url: https://lh3.googleusercontent.com/pw/ABLVV84Qky0o7mgc-YvA7cPlYXVB9kgHK-pmwb_-yu_fe3b90oe9bQipYXVLBIMeFQxAmGCH1bbh-zuM_PnyVCwQP__cNPiXPDvlduKbZjKnRZ4PGRLvsEoxs2EacTv88XM7qA5Yp5O7YEXz_Qc2r8CbjNLPkg=w2024-h1138-s-no-gm?authuser=0
        title: Cookie
        description: ''

---





# Introduction

Stay at home parenting is fun, and time consuming, but I sometimes need some thought-provoking distractions. So far that distraction has mostly been in the form of woodworking and settng up a machineshop in our garage but sometimes I just want to code something. I also miss just taking notes, and writing documentation that has been a big part of my professional career. Hence here we are, lets make a blog? I previously had a local jekyll site running with some notes and projects ideas that mostly remained private, some of which I'll move here. I wanted to make something with more functionality than the static site generator jekyll, something that would allow me to make a few interactive components too - like capturing time-series temperature data for some recipes would be fun or a custom interface for my [avidcnc](avidcnc.com).



# Useful guides and tutorials

 - The [flask project page](https://flask.palletsprojects.com/en/3.0.x/) has great descriptions and some simple examples of most components I needed for this build. 

 - The [flask-login](https://flask-login.readthedocs.io/en/latest/) which was used to handle a user state across the site.

 - The [flask-sqlalchemy](https://flask-sqlalchemy.palletsprojects.com/en/3.1.x/) which was used for handling the site database for users, comments, permisions, etc.

 - This series by [Miguel Grinberg](https://blog.miguelgrinberg.com/post/the-flask-mega-tutorial-part-i-hello-world) was especially helpful as one of the more complete getting started guides I found. It's helpful to have one person explaining things from hello-world through databases and all the way to deploying. I often get distracted by details and will spend a day looking  on something non-sensibly generic like best practices for user-schema for website (soo specifics needed to have a useful answer) before I get back to what I was doing. Miguel's tutorial lets me save that step for later and just follow his example through the end. 

 - This [flask google login](https://realpython.com/flask-google-login/) tutorial has nice examples of adding a google-sign in functionality, I later discovered flask-dance, but I ran into trouble connecting it to the standard [google-sign-in scripts](https://developers.google.com/identity/gsi/web/guides/display-button) so I switched back to the oauth library directly. I've also used this library to add access control to each post. I definitely want some private posts, and I'll probably have some family or friends only materials.
 
 - [Sunbliss' photorama galleries](https://github.com/sunbliss/photorama) was something I had already been using on my jekyll site. At some point I'd like to go through this is more detail because I think I'm adding more css and js than I need for the few features I want - automatic group photo arrangements via [isotope](https://isotope.metafizzy.co/), hover text for image titles and captions, and click to on-page full screen view of images. but for now I've just copied the styling of my previous jekyll site.

 - The styling and layout of the site is take from [jekyll clean dark theme](https://github.com/streetturtle/jekyll-clean-dark) 

 - [Lets encrypt](https://letsencrypt.org/getting-started/) was used to get a trusted signed certificate, so I could avoid the very-very annoying 'Are you sure you want to proceed' prompts. 
 
 - [Amazon lightsail](https://aws.amazon.com/lightsail/) was used as a VPS provider for this site. I didn't do a ton of research on this before hand, but my goal in choosing a provider was 1. I wanted to be a fairly large provider that I might encounter in professional work, and 2. There should be a economical option available (this ruled out gcp). I don't know the exact differences between lightsail and amazons ec2 but I figured it's a good place to start. 

 - [Google photos](photos.google.com) is used for photo hosting, I'm not sure this is a practical long-term solution because there doesn't seem to be intentional support for easy-linking photos from google-photos, giving the sense that the current method (and links) could be removed at any point. The current process involves creating an album, making that album publicly accessible via allowing share links, then inspecting an image to get the lh3 link. 





# Example features

## Code snippets with syntax highlighting
Flask-flatpages uses python-pygments to render code snippets, this page uses 'monokai' styling, other options can be on the [pygments styling page](https://pygments.org/styles/)

    :::python
    # Testing code highlighting
    x = a + b
    print('This is a python string')
    def alpha(ball):
    return 'cat'
    def balloon(y):
    return y**2

    print('done')



## Images galleries
Galleries can be included with 
    {% raw %} 
    {{ gallery(page.images) | safe}}
    {% endraw %}

If image links are added to the markdown header. See /blog/jinja_ext.py for additional context processors.

{{ gallery(page.images) | safe}}



## Mathjax

At some point I'll want to add math rendering. Although I don't have an immediate need for it, I imagine this will continue to creep into an occassional post. 

This is an equation $ \alpha=10^25 $




## Recipes
  
Recipes can be included by adding a 'recipe' key to the page headers and including an ingredients and preperation list. recipe-specific images can be added as well. 

    {% raw %}
    {{ gallery(page.recipe.images) | safe}}

    {{ recipe( page.recipe ) | safe}}
    {% endraw %}

{{ gallery(page.recipe.images) | safe}}


{{ recipe( page.recipe ) | safe}}



# To-Do's 

 - Adding mathjax functionality. 
 - improve styling for recipe inclusion
 - add tag sorting. 
 - for recipes add # of servings and update ingredients accordingly. 
 - 